<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="theme-color" content="#292f2f">
    <meta name="description" content="freenode IRC network">
    <link rel="icon" href="../static/img/logos/coloured-alphabg-sq-120.png">
    <title>Help us test ircd-seven! - freenode</title>
    <link href="../static/css/open-sans.css?f7fd165" rel="stylesheet">
    <link href="../static/css/font-awesome.css?f7fd165" rel="stylesheet">
    <link href="../static/css/style.css?f7fd165" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <a href=".."><img alt="freenode logo" class="nlogo" src="../static/img/logos/coloured-alphabg.svg "></a>
        <a href="https://www.privateinternetaccess.com/pages/buy-vpn/freend/" target="_blank"><img alt="Private Internet Access" class="nlogo" src="../static/img/logos/PIALogo_white.svg"></a>
        <a class="invisible" href="#navigation">Jump to navigation</a>
    </nav>
    <div class="container">
        
<div class="main">
    <div class="art-info">
        
<a href="help-us-test-ircd-seven"><h1 class="art">Help us test ircd-seven!</h1></a>
<span class="art-date">christel on 2008-11-02</span>

    </div>
    <div class="art-body">
    <p>As many of you will have no­ticed, our cur­rent IRC serv­er soft­ware, <a href="http://freenode.net/hyperion.shtml">hy­pe­r­i­on</a>, has been showing its age for some time now. Expectations for its eventual replacement are nothing if not high -- hyperion contains a great many features not found elsewhere, most of which are fairly unique to the way in which freenode operates, so anything that wants to take over from it must provide all of these, in a more robust, maintainable and future-proof package.</p>
<p><a href="http://hg.atheme.org/charybdis">Charyb­dis</a> looks like a good start -- it's a modern, modular IRC daemon supporting many of hyperion's strange features, and built on top of <a href="http://ircd-ratbox.org/">ir­cd-rat­box</a>, which gives it a good heritage of stability and scalability. ircd-ratbox is perhaps best known for powering the majority of EFNet, which seems to make it an excellent base on which to build.</p>
<p>How­ev­er, nei­ther rat­box nor Charyb­dis im­ple­ments freen­ode's more unique fea­tures, such as ban-­for­ward­ing or hid­den IRC op­er­a­tors. So, some work is need­ed.</p>
<p>En­ter <a href="http://freenode.net/seven.shtml">ir­cd-­sev­en</a>. Seven is based on Charybdis, with the features freenode needs added in. Channel operators and network operators alike should recognise most of the useful, and heretofore unique, features of hyperion, without many of the bugs and oddities that have become an unfortunate fact of life.</p>
<p>De­vel­op­ment and in­ter­nal test­ing of sev­en has been on­go­ing for some time, and we're now ready to open up test­ing to a wider au­di­ence. The test net­work is cur­rent­ly run­ning on <em>test­net.freen­ode.net</em>, port 9002 for normal connections or 9003 for SSL connections. This is a new server, sharing no code with the current software, so all aspects of it need thorough testing, both that it works, and behaves in a way consistent with how most people want to use it -- this last aspect is particularly difficult to do in small-scale private testing.</p>
<p>ir­cd-­sev­en is de­signed to be ca­pa­ble of every­thing hy­pe­r­i­on is, but not nec­es­sar­i­ly as a drop-in re­place­ment. Some func­tion­al­i­ty is still avail­able in a dif­fer­ent form, or with a dif­fer­ent in­ter­face. The most no­table dif­fer­ences for users are sum­marised be­low:</p>
<p><strong>SSL sup­port</strong>
seven supports SSL, for client and server connections. Users connecting via SSL will get user mode +Z to denote this.</p>
<p><strong> Chan­nel bans and qui­ets</strong>
Channel mode +q (quiet) is now sent as a separate mode -- hyperion's translation of +q foo to +b %foo is gone. Extended ban types are supported for all ban-like modes (+bqeI). These extended masks begin with $, followed by an optional ~, to negate the match, and a single letter denoting the type of match to do. For example:</p>
<ul>
<li>
<p>+b $r:Lee* will ban any client whose re­al­name (gecos) field be­gins 'Lee'. This is equiv­a­lent to hy­pe­r­i­on's +d mode.</p>
</li>
<li>
<p>+I $a:spb will set an in­vite ex­cep­tion for any client logged in to ser­vices as spb.</p>
</li>
<li>
<p>+q $~a will pre­vent any user not logged in to ser­vices from speak­ing. This is rough­ly equiv­a­lent to hy­pe­r­i­on's mode +R.</p>
</li>
</ul>
<p>For­ward chan­nels for bans are now de­lim­it­ed with $ in­stead of hy­pe­r­i­on's !, and can be used with ex­tend­ed ban masks as well. Set­ting and un­set­ting of bans via the hy­pe­r­i­on syn­tax (nick!user@host!#chan­nel) is sup­port­ed -- it will be trans­lat­ed to nick!user@host$#chan­nel.</p>
<p><strong> Iden­ti­fied sta­tus</strong>
There is no user mode +e. The IRCd keeps track of the account name of every user who is identified to services, and uses this to determine whether a user is identified or not. The 'is identified to services' line in WHOIS output is no longer present; there is, however, a line containing the account name if the user is logged in.</p>
<p><strong> Iden­ti­fy­ing on con­nect</strong>
Using a NickServ password as a server password still works as it does in hyperion. However, there are two new mechanisms:</p>
<ul>
<li>
<p>You can spec­i­fy : in the serv­er pass­word field, to log in to a spe­cif­ic ac­count. This re­moves the re­quire­ment to con­nect us­ing a nick­name that is grouped to your ser­vices ac­count.</p>
</li>
<li>
<p>sev­en sup­ports SASL au­then­ti­ca­tion, to log in to ser­vices dur­ing the con­nec­tion process. This re­quires client sup­port; a script for Irssi to do so is lo­cat­ed <a href="http://freenode.net/sasl">here</a>. Conspire supports this natively. Other clients, as far as I'm aware, do not.</p>
</li>
</ul>
<p><strong>User­name pre­fix­es</strong>
The n= and i= prefixes are not used; instead ~ is prefixed to a non-identd username, as in most other daemons.</p>
<p><strong>IDEN­TI­FY-MSG</strong>
The identify-msg capability is still present, but the way to enable it has changed -- it is now part of the same CAP mechanism that is used to control SASL and multi-prefix capabilities. A script for irssi that understands both hyperion's and seven's identify-msg capability is available <a href="http://adipose.attenuate.org/~stephen/ircd-seven/format_identify.pl">here</a>. Conspire will also support this natively once w00t remembers to apply the patch.</p>
    </div>
    
<div class="art-nav">
    <span><a href="maintenance-downtime-warning-lem-orwell">previous article</a><span class="invisible">, </span></span><span><a href="../archive">all</a></span><span><span class="invisible">, </span><a href="new-servers">next article</a></span>
</div>

</div>

    </div>
    <div class="footers">
        <a name="navigation"/>
        <footer class="footer">
    <div class="footer-container">
    
    <div class="footerchild">
        <h2>About freenode</h2>
        <ul>
            
            <li>
                <a href="../project">The project</a>
            </li>
            <li>
                <a href="../people">The people</a>
            </li>
            <li>
                <a href="../philosophy">The philosophy</a>
            </li>
            <li>
                <a href="../policies">The policies</a>
            </li>
            <li>
                <a href="../live">freenode live!</a>
            </li>
            <li>
                <a href="../acknowledgements">Acknowledgements</a>
            </li>
        </ul>
    </div>
    
    <div class="footerchild">
        <h2>Using freenode</h2>
        <ul>
            
            <li>
                <a href="//webchat.freenode.net">Webchat</a>
            </li>
            <li>
                
                
                    <a href="ircs://chat.freenode.net:6697">chat.freenode.net:6697</a>
                
                
                
                    /
                
                
                
                    <a href="irc://chat.freenode.net:6667">non-SSL: 6667</a>
                
                
            </li>
            <li>
                <a href="../changuide">Channel guidelines</a>
            </li>
            <li>
                <a href="../catalysts">Catalyst guidelines</a>
            </li>
            <li>
                <a href="../kb/all">Knowledge base</a>
            </li>
            <li>
                <a href="../support">Supporting the project</a>
            </li>
        </ul>
    </div>
    
    <div class="footerchild">
        <h2>Groups</h2>
        <ul>
            
            <li>
                <a href="../groupreg">Group registration</a>
            </li>
            <li>
                <a href="#">Register as a group</a>
            </li>
            <li>
                <a href="#">Existing groups</a>
            </li>
        </ul>
    </div>
    
    <div></div>
    <div class="footerchild">
        <div class="footer-push">
        <h2>Social Media</h2>
        <ul>
            <li>
                <a href="https://plus.google.com/104326727082310562426" target="_blank">
                    <i class="fa fa-google-plus fa-fw"></i> <span class="hdn">Google+</span></a>
            </li>
            <li>
                <a href="https://twitter.com/freenodestaff" target="_blank">
                    <i class="fa fa-twitter fa-fw"></i> <span class="hdn">Twitter</span></a>
            </li>
            <li>
                <a href="https://www.facebook.com/freenode-366911233325305/" target="_blank">
                    <i class="fa fa-facebook fa-fw"></i> <span class="hdn">Facebook</span></a>
            </li>
            <li>
                <a href="../archive"><i class="fa fa-rss fa-fw"></i>
                <span class="hdn">News Archive</span></a>
            </li>
            <li>
                <a href="https://www.privateinternetaccess.com/pages/buy-vpn/freend/" target="_blank">
                    <img alt="PIA" class="fa-fw" src="../static/img/logos/pia-robot-original.svg">
                <span class="hdn">Private Internet Access</span></a>
            </li>
        </ul>
        </div>
    </div>
    </div>
</footer>
<footer class="copyright">
    <div>
    <a href="https://github.com/freenode/web-7.0"><i class="fa fa-github fa-lg"></i></a>&nbsp;
    <a class="copyright" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target= "_blank">
        <img alt="CC by-nc-sa" src="../static/img/by-nc-sa.svg">
    </a>
    </div>
    <div>
        &copy; 2016, freenode
    </div>
</footer>
    </div>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-646096-3', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>