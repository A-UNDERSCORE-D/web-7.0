<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta name="theme-color" content="#292f2f">
    <meta name="description" content="freenode IRC network">
    <link rel="icon" href="../static/img/logos/coloured-alphabg-sq-120.png">
    <link rel="alternate" type="application/rss+xml" href="rss.xml" title="news (rss)">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="news (atom)">
    <title>When bots go bad.. - freenode</title>
    <link href="../static/css/open-sans.css?e7e51a7" rel="stylesheet">
    <link href="../static/css/font-awesome.css?e7e51a7" rel="stylesheet">
    <link href="../static/css/style.css?e7e51a7" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <a id="nav-jump" class="invisible" href="#navigation">Jump to navigation</a>
        <a id="nav-logo" href=".."><img alt="freenode" class="nlogo" src="../static/img/logos/coloured-alphabg.svg "></a>
        <a id="nav-pia" href="https://www.privateinternetaccess.com/pages/buy-vpn/freend/" target="_blank"><img alt="Private Internet Access" class="nlogo" src="../static/img/logos/PIALogo_white.svg"></a>
        <form id="nav-search" action="https://www.google.com/cse">
            <input type="hidden" name="cx" value="partner-pub-3720690829065633:9p8fr4-u91g">
            <input type="hidden" name="ie" value="ISO-8859-1">
            <label for="search" class="invisible">Query:</label>
            <input id="nav-searchbox" type="text" name="q" placeholder="Search using Google">
            <label id="nav-label" for="nav-searchbox"><i class="fa fa-search fa-lg"></i></label>
            <input id="nav-submit" type="submit" class="invisible" value="Search using Google">
        </form>
    </nav>
    <div class="container">
        
<div class="main">
    <div class="art-warning">
        This article was imported from freenode's wordpress blog, and is
        likely out of date. It's preserved here in the interest of
        history, but please don't treat it as an authoritative source in
        any context.
    </div>
    <div class="art-info">
        
<a href="when-bots-go-bad"><h1 class="art">When bots go bad..</h1></a>
<span class="art-date">christel on 2009-11-01</span>

    </div>
    <div class="art-body">
    <p>First off, al­low me to apol­o­gise to all users af­fect­ed by the re­cent "client  killing" ram­page of our util­i­ty bot; Syn. She ap­pears to have got­ten into the  Hal­loween spir­it a bit too much!</p>
<p>You may have no­ticed a large num­ber of peo­ple dis­con­nect­ing from freen­ode with the rea­son 'Nick col­li­sion from syn.' We feel we should ex­plain what hap­pened.</p>
<p>For those of you not al­ready fa­mil­iar with her, syn is a util­i­ty bot that, amongst oth­er du­ties, reg­u­lates gate­way ac­cess to the net­work. This could be web gate­ways such as CGI:IRC or our own we­bchat, NAT gate­ways, or some con­fer­ences and shell ser­vices. One of the things that she does, for web gate­ways in par­tic­u­lar, is to match the re­port­ed IP ad­dress (hex-en­cod­ed in the ident field) against net­work bans, and deny the con­nec­tion if a match is found.</p>
<p>It was this par­tic­u­lar part that had an un­for­tu­nate pair of bugs re­sult­ing in the in­ci­dent you ob­served. First­ly, in us­ing ss­canf() to de­tect a hex-en­cod­ed IP ad­dress in the ident field, the val­i­da­tion was not quite strict enough -- any ident that <em>be­gan</em> with a se­ries of valid hexa­dec­i­mal char­ac­ters (the dig­its 0-9 and let­ters a-f) would re­sult in a num­ber be­ing de­cod­ed. In nor­mal cir­cum­stances, this would be rel­a­tive­ly harm­less as the re­sult­ing IP is clear­ly in­valid -- in most cas­es, it would be­gin 0.0.0., and not match any net­work bans.</p>
<p>Un­for­tu­nate­ly, there was a sec­ond bug in­tro­duced more re­cent­ly as part of a per­for­mance fix. This meant that in cer­tain cas­es, a K:line whose host part con­tained wild­cards would in­cor­rect­ly match against these in­valid IP ad­dress­es.</p>
<p>Each of these, tak­en in iso­la­tion, would be rel­a­tive­ly in­nocu­ous, and so they slipped un­der the radar and made it into pro­duc­tion. The com­bi­na­tion of the two, how­ev­er, had rather dis­as­trous re­sults.</p>
<p>We apol­o­gise, and wel­come you to cas­ti­gate our de­vel­op­ers and staff for our  in­com­pe­tence and for al­low­ing these bugs to make it into pro­duc­tion.</p>
    </div>
    
<div class="art-nav">
    <span><a href="free-as-in-freenode">previous article</a><span class="invisible">, </span></span><span><a href="../archive">all</a></span><span><span class="invisible">, </span><a href="testing-the-nets">next article</a></span>
</div>

</div>

    </div>
    <div class="footers">
        <a id="navigation"></a>
        <footer class="footer">
    <div class="footer-container">
    
    <div class="footerchild">
        <h2>About freenode</h2>
        <ul>
            
            <li>
                <a href="../project">The project</a>
            </li>
            <li>
                <a href="../people">The people</a>
            </li>
            <li>
                <a href="../philosophy">The philosophy</a>
            </li>
            <li>
                <a href="../policies">The policies</a>
            </li>
            <li>
                <a href="../live">freenode live!</a>
            </li>
            <li>
                <a href="../acknowledgements">Acknowledgements</a>
            </li>
        </ul>
    </div>
    
    <div class="footerchild">
        <h2>Using freenode</h2>
        <ul>
            
            <li>
                <a href="//webchat.freenode.net">Webchat</a>
            </li>
            <li>
                
                
                    <a href="ircs://chat.freenode.net:6697">chat.freenode.net:6697</a>
                
                
                
                    /
                
                
                
                    <a href="irc://chat.freenode.net:6667">non-SSL: 6667</a>
                
                
            </li>
            <li>
                <a href="../changuide">Channel guidelines</a>
            </li>
            <li>
                <a href="../catalysts">Catalyst guidelines</a>
            </li>
            <li>
                <a href="../kb/all">Knowledge base</a>
            </li>
            <li>
                <a href="../support">Supporting the project</a>
            </li>
        </ul>
    </div>
    
    <div class="footerchild">
        <h2>Groups</h2>
        <ul>
            
            <li>
                <a href="../groupreg">Group registration</a>
            </li>
            <li>
                <a href="../groupreg">Register as a group</a>
            </li>
            <li>
                <a href="../groupreg">Existing groups</a>
            </li>
        </ul>
    </div>
    
    <div></div>
    <div class="footerchild">
        <div class="footer-push">
        <h2>Social Media</h2>
        <ul>
            <li>
                <a href="https://google.com/+freenode" target="_blank">
                    <i class="fa fa-google-plus fa-fw"></i> <span class="hdn">Google+</span></a>
            </li>
            <li>
                <a href="https://twitter.com/freenodestaff" target="_blank">
                    <i class="fa fa-twitter fa-fw"></i> <span class="hdn">Twitter</span></a>
            </li>
            <li>
                <a href="https://www.facebook.com/freenode-366911233325305/" target="_blank">
                    <i class="fa fa-facebook fa-fw"></i> <span class="hdn">Facebook</span></a>
            </li>
            <li>
                <a href="../archive"><i class="fa fa-rss fa-fw"></i>
                <span class="hdn">News Archive</span></a>
            </li>
            <li>
                <a href="https://www.privateinternetaccess.com/pages/buy-vpn/freend/" target="_blank">
                    <img alt="PIA" class="fa-fw" src="../static/img/logos/pia-robot-original.svg">
                <span class="hdn">Private Internet Access</span></a>
            </li>
        </ul>
        </div>
    </div>
    </div>
</footer>
<footer class="copyright">
    <div>
    <a href="https://github.com/freenode/web-7.0"><i class="fa fa-github fa-lg"></i></a>&nbsp;
    <a class="copyright" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target= "_blank">
        <img alt="CC by-nc-sa" src="../static/img/by-nc-sa.svg">
    </a>
    </div>
    <div>
        &copy; 2016, freenode
    </div>
</footer>
    </div>
</body>
</html>